<!doctype html>
<html>
<head>
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
	<title>x-life</title>

	<script src="../../platform/platform.js"></script>
	<link rel="import" href="../../polymer-test-tools/tools.html">
	<script src="../../polymer-test-tools/htmltest.js"></script>

	<!-- Step 1: import the element to test -->
	<link rel="import" href="../x-life.html">

</head>
<body>

	<x-life width="50" height="25"></x-life>

	<script>

		document.addEventListener('polymer-ready', function() {
			// Test a property
			var myEl = document.querySelector('x-life');
			assert.equal(myEl.cols, 10);
			assert.equal(myEl.rows, 5);

			assert.equal(myEl.coordtoi(0, 0), 0);
			assert.equal(myEl.coordtoi(1, 1), 11);
			assert.equal(myEl.coordtoi(-1, -1), 49);
			assert.equal(myEl.coordtoi(-1, 0), 9);
			assert.equal(myEl.coordtoi(0, -1), 40);
			assert.equal(myEl.coordtoi(9, 4), 49);

			assert.deepEqual(myEl.itocoord(0), [0, 0]);
			assert.deepEqual(myEl.itocoord(10), [0, 1]);
			assert.deepEqual(myEl.itocoord(11), [1, 1]);
			assert.deepEqual(myEl.itocoord(49), [9, 4]);
			assert.deepEqual(myEl.itocoord(9), [9, 0]);

			// assert.deepEqual(myEl.proximity(11), [0, 1, 2, 10, 12, 20, 21, 22]);
			// assert.deepEqual(myEl.proximity(0), [49, 40, 41, 9, 1, 19, 10, 11]);

			assert.equal(myEl.age(1, [1, 1, 1]), 1);
			assert.equal(myEl.age(0, [1, 1, 1]), 1);
			assert.equal(myEl.age(1, [1, 1]), 1);
			assert.equal(myEl.age(0, [1, 1]), 0);
			assert.equal(myEl.age(1, [1]), 0);
			assert.equal(myEl.age(1, [1, 1, 1, 1]), 0);

			assert.equal(myEl.cells.length, 50);

			// Test a method
			// var hello = myEl.sayHello();
			// assert.equal(hello, 'x-life says, Hello World!');
			// var greetings = myEl.sayHello('greetings Earthlings');
			// assert.equal(greetings, 'x-life says, greetings Earthlings');

			// // Test an event
			// myEl.addEventListener('x-life-lasers-success', function(event) {
			//   assert.equal(event.detail.sound, 'Pew pew pew!');
			//   // IMPORTANT:
			//   // Make sure to call done() at the end of every test suite!
			//   done();
			// });
			// myEl.fireLasers();
			done();
		});

	</script>

</body>
</html>
