<!doctype html>
<html>
<head>
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
	<title>q-life</title>

	<script src="../../platform/platform.js"></script>
	<link rel="import" href="../../polymer-test-tools/tools.html">
	<script src="../../polymer-test-tools/htmltest.js"></script>

	<!-- Step 1: import the element to test -->
	<link rel="import" href="../q-life.html">

</head>
<body>

	<canvas is="q-life" width="50" height="25" cellSize="5"></canvas>

	<script>

		document.addEventListener('polymer-ready', function() {

			var myEl = document.querySelector('[is=q-life]');
			assert.notStrictEqual(myEl.cells, myEl.cells2, 'element has 2 separated cell arrays');
			myEl.cells[myEl.coordtoi(2,2)] = 1;
			myEl.cells[myEl.coordtoi(3,2)] = 1;
			myEl.cells[myEl.coordtoi(1,3)] = 1;
			myEl.cells[myEl.coordtoi(2,4)] = 1;
			myEl.cells[myEl.coordtoi(3,4)] = 1;
			myEl.cells[myEl.coordtoi(4,3)] = 1;
			//  oo
			// o  o  This shape is a beehive and is stable.
			//  oo
			myEl.tick();
			assert.deepEqual(myEl.cells, myEl.cells2, 'all cells survived, cell arrays are identical');

			done();

		});

	</script>

</body>
</html>
